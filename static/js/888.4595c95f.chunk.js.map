{"version":3,"file":"static/js/888.4595c95f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"MovieDetails_btn__tCU2l\",\"wrap\":\"MovieDetails_wrap__-7+5C\",\"wrapText\":\"MovieDetails_wrapText__0iiFp\",\"wrapInfo\":\"MovieDetails_wrapInfo__oDRuJ\"};","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport {\n  useParams,\n  useLocation,\n  Link,\n  Outlet,\n  useNavigate,\n} from 'react-router-dom';\nimport { moviesDetailsApi } from 'components/api/api';\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieDet, setMovieDet] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { id } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchMoviesDet = async () => {\n      try {\n        setLoading(true);\n        const dataMovies = await moviesDetailsApi(id);\n        // console.log(dataMovies);\n        setMovieDet(dataMovies);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMoviesDet(id);\n  }, [id]);\n\n  const locationSearch = location.state.from.search;\n  // console.log(locationSearch);\n\n  const from = location.state?.from || '/';\n  // console.log(from);\n\n  const goBack = () => {\n    locationSearch ? navigate(`/movies${locationSearch}`) : navigate('/');\n  };\n\n  const { title, poster_path, vote_average, overview, genres, release_date } =\n    movieDet;\n\n  const year = release_date?.substring(0, 4);\n  const genresArr = genres?.map(item => item.name);\n  const genresString = genresArr?.join(' ');\n  const userScore = Math.round(vote_average * 10);\n\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\n  return (\n    <>\n      {loading && <p>...Loading</p>}\n      {error && <p>{error}</p>}\n      <button className={styles.btn} onClick={goBack} type=\"button\">\n        Go back\n      </button>\n      <div className={styles.wrap}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n              : defaultImg\n          }\n          alt=\"poster\"\n          width={250}\n        />\n        <div className={styles.wrapText}>\n          <h2>\n            {title} ({year})\n          </h2>\n          <p>User Score: {userScore}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genresString}</p>\n        </div>\n      </div>\n\n      <div className={styles.wrapInfo}>\n        <h5>Additional information</h5>\n        <ul>\n          <li>\n            <Link to=\"cast\" state={{ from }}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" state={{ from }}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Outlet />\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["_location$state","_useState","useState","_useState2","_slicedToArray","movieDet","setMovieDet","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","id","useParams","location","useLocation","navigate","useNavigate","useEffect","fetchMoviesDet","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","dataMovies","_context","prev","next","moviesDetailsApi","sent","t0","message","finish","stop","apply","arguments","locationSearch","state","from","search","title","poster_path","vote_average","overview","genres","release_date","year","substring","genresArr","map","item","name","genresString","join","userScore","Math","round","_jsxs","_Fragment","children","_jsx","className","styles","onClick","concat","type","src","alt","width","Link","to","Outlet"],"sourceRoot":""}